<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‰²å­éŠæˆ²</title>
    <style>
        body {
            text-align: center;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }

        .dice-result {
            margin-top: 20px;
            font-size: 18px;
            color: #333;
        }

        .stop-result {
            margin-top: 20px;
            font-size: 20px;
            color: red;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <!-- ä¸‰å€‹HTMLï¼Œ1.éª°è‰²å­çš„æŒ‰éˆ• 2.éª°å‡ºéª°å­çš„çµæœ 3.åŸ·è¡Œ1~20çš„çµæœ -->
    <button id="rollDice">éª°éª°å­</button>
    <button id="resetGame">é‡æ–°é–‹å§‹</button>
    <div class="dice-result"></div>
    <div class="stop-result"></div>

    <script>
        // å»æŠ“3å€‹HTMLï¼Œå–å€¼
        const rollDiceButton = document.getElementById('rollDice');
        const resetButton = document.getElementById('resetGame');
        const diceResultDiv = document.querySelector('.dice-result');
        const stopResultDiv = document.querySelector('.stop-result');


        let rollCount = 0; // è¨˜éŒ„æ“²éª°æ¬¡æ•¸
        const maxRolls = 20; // æœ€å¤§æ“²éª°æ¬¡æ•¸

        rollDiceButton.addEventListener('click', () => {
            if (rollCount >= maxRolls) return; // é˜²æ­¢è¶…é20æ¬¡é‚„èƒ½æŒ‰

            rollCount++;

            const dice1 = rollSingleDice();
            const dice2 = rollSingleDice();
            const dice3 = rollSingleDice();

            diceResultDiv.innerHTML += `ç¬¬ ${rollCount} æ¬¡ï¼šğŸ² ${dice1}, ğŸ² ${dice2}, ğŸ² ${dice3}<br>`;

            if (dice1 === dice2 && dice2 === dice3) {
                stopResultDiv.innerHTML = `ğŸ‰ æ­å–œ! ç¬¬ ${rollCount} æ¬¡æ“²éª°åœæ­¢ï¼ä¸‰é¡†é»æ•¸ç›¸åŒï¼šğŸ² ${dice1}`;
                rollDiceButton.disabled = true;
            }

            if (rollCount === maxRolls && !(dice1 === dice2 && dice2 === dice3)) {
                stopResultDiv.innerHTML = 'ğŸ² å·²é” 20 æ¬¡ï¼Œæœªå‡ºç¾ä¸‰é¡†ç›¸åŒçš„é»æ•¸ã€‚';
                rollDiceButton.disabled = true;
            }
        });

        // é‡æ–°é–‹å§‹çš„è™•ç†
        resetButton.addEventListener('click', () => {
            rollCount = 0;
            diceResultDiv.innerHTML = '';
            stopResultDiv.innerHTML = '';
            rollDiceButton.disabled = false;
        });

        // å°‡éª°å­è¨­äº‚æ•¸ï¼Œä½¿ä»–çµæœç‚º1~6é»
        function rollSingleDice() {
            return Math.floor(Math.random() * 6) + 1;
        }
    </script>
</body>

</html>